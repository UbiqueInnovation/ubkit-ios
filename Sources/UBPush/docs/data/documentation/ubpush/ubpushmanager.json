{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"UBPushManager"}],"languages":["swift"],"platforms":["iOS"]}]},{"kind":"content","content":[{"anchor":"overview","level":2,"type":"heading","text":"Overview"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"pushRegistrationManager"},{"type":"text","text":", which handles registration of push tokens on our server"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"additionalPushRegistrationManagers"},{"type":"text","text":", allows to handle several push configurations on our server"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"pushHandler"},{"type":"text","text":", which handles incoming pushes"}]}]}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The following calls need to be added to the app delegate:"}]},{"type":"codeListing","syntax":null,"code":["import UBFoundationPush","","@UIApplicationMain","class AppDelegate: UIResponder, UIApplicationDelegate, UBPushRegistrationAppDelegate {","","    func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?) -> Bool {","        let pushHandler = SubclassedPushHandler()","        \/\/ Only use this initializer if using default registration API, otherwise","        \/\/ also subclass UBPushRegistrationManager","        let registrationManager = UBPushRegistrationManager(registrationURL: someUrl)","        UBPushManager.shared.application(application,","                                         didFinishLaunchingWithOptions: launchOptions,","                                         pushHandler: pushHandler,","                                         pushRegistrationManager: pushRegistrationManager)","    }","","    func application(_: UIApplication, didRegisterForRemoteNotificationsWithDeviceToken deviceToken: Data) {","          UBPushManager.shared.didRegisterForRemoteNotificationsWithDeviceToken(deviceToken)","    }","","    func application(_: UIApplication, didFailToRegisterForRemoteNotificationsWithError error: Error) {","          UBPushManager.shared.didFailToRegisterForRemoteNotifications(with: error)","    }","","    func application(_: UIApplication, didReceiveRemoteNotification userInfo: [AnyHashable: Any], fetchCompletionHandler completionHandler: @escaping (UIBackgroundFetchResult) -> Void) {","        UBPushManager.shared.pushHandler.handleDidReceiveResponse(userInfo, fetchCompletionHandler: completionHandler)","    }"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/ubpush\/ubpushmanager"],"traits":[{"interfaceLanguage":"swift"}]}],"relationshipsSections":[{"identifiers":["doc:\/\/UBPush\/objc(cs)NSObject"],"kind":"relationships","title":"Inherits From","type":"inheritsFrom"},{"identifiers":["doc:\/\/UBPush\/objc(pl)NSObject","doc:\/\/UBPush\/s7CVarArgP","doc:\/\/UBPush\/s28CustomDebugStringConvertibleP","doc:\/\/UBPush\/s23CustomStringConvertibleP","doc:\/\/UBPush\/SQ","doc:\/\/UBPush\/SH","doc:\/\/UBPush\/objc(pl)UNUserNotificationCenterDelegate"],"kind":"relationships","title":"Conforms To","type":"conformsTo"}],"identifier":{"url":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Handles requesting push permissions. Clients should customize the following components specific to the client application:"}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"UBPushManager"}],"title":"UBPushManager","roleHeading":"Class","role":"symbol","symbolKind":"class","externalID":"c:@M@UBPush@objc(cs)UBPushManager","modules":[{"name":"UBPush"}],"navigatorTitle":[{"kind":"identifier","text":"UBPushManager"}]},"hierarchy":{"paths":[["doc:\/\/UBPush\/documentation\/UBPush"]]},"topicSections":[{"title":"Instance Properties","identifiers":["doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/additionalPushRegistrationManagers","doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/pushHandler","doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/pushRegistrationManager","doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/pushToken"]},{"title":"Instance Methods","identifiers":["doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/didFailToRegisterForRemoteNotifications(with:)","doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/didFinishLaunchingWithOptions(_:pushHandler:pushRegistrationManager:additionalPushRegistrationManagers:)","doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/didRegisterForRemoteNotificationsWithDeviceToken(_:)","doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/invalidateAndResendPushRegistration(completion:)","doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/invalidatePushRegistration()","doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/migratePushToken(currentToken:)","doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/queryPushPermissions(callback:)","doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/requestPushPermissions(includingCritical:callback:)"]},{"title":"Type Aliases","identifiers":["doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/PermissionRequestCallback"]},{"title":"Type Properties","identifiers":["doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/shared"]},{"title":"Enumerations","identifiers":["doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/PermissionRequestResult"]},{"title":"Default Implementations","identifiers":["doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/UNUserNotificationCenterDelegate-Implementations"],"generated":true}],"references":{"doc://UBPush/documentation/UBPush/UBPushManager/pushHandler":{"role":"symbol","title":"pushHandler","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"pushHandler"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UBPushHandler","preciseIdentifier":"s:6UBPush0A7HandlerC"}],"abstract":[{"type":"text","text":"Handles incoming pushes"}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/pushHandler","kind":"symbol","type":"topic","url":"\/documentation\/ubpush\/ubpushmanager\/pushhandler"},"doc://UBPush/documentation/UBPush/UBPushManager/PermissionRequestResult":{"role":"symbol","title":"UBPushManager.PermissionRequestResult","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"PermissionRequestResult"}],"abstract":[{"type":"text","text":":nodoc:"}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/PermissionRequestResult","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PermissionRequestResult"}],"url":"\/documentation\/ubpush\/ubpushmanager\/permissionrequestresult"},"doc://UBPush/documentation/UBPush/UBPushManager/PermissionRequestCallback":{"role":"symbol","title":"UBPushManager.PermissionRequestCallback","fragments":[{"kind":"keyword","text":"typealias"},{"kind":"text","text":" "},{"kind":"identifier","text":"PermissionRequestCallback"}],"abstract":[{"type":"text","text":"Closure to handle the permission request result"}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/PermissionRequestCallback","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"PermissionRequestCallback"}],"url":"\/documentation\/ubpush\/ubpushmanager\/permissionrequestcallback"},"doc://UBPush/documentation/UBPush/UBPushManager/pushRegistrationManager":{"role":"symbol","title":"pushRegistrationManager","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"pushRegistrationManager"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UBPushRegistrationManager","preciseIdentifier":"c:@M@UBPush@objc(cs)UBPushRegistrationManager"}],"abstract":[{"type":"text","text":"Handles registration of push tokens on our server"}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/pushRegistrationManager","kind":"symbol","type":"topic","url":"\/documentation\/ubpush\/ubpushmanager\/pushregistrationmanager"},"doc://UBPush/documentation/UBPush/UBPushManager/queryPushPermissions(callback:)":{"role":"symbol","title":"queryPushPermissions(callback:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"queryPushPermissions"},{"kind":"text","text":"("},{"kind":"externalParam","text":"callback"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Querys the current push permissions from the system"}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/queryPushPermissions(callback:)","kind":"symbol","type":"topic","url":"\/documentation\/ubpush\/ubpushmanager\/querypushpermissions(callback:)"},"doc://UBPush/s7CVarArgP":{"type":"unresolvable","title":"Swift.CVarArg","identifier":"doc:\/\/UBPush\/s7CVarArgP"},"doc://UBPush/SQ":{"type":"unresolvable","title":"Swift.Equatable","identifier":"doc:\/\/UBPush\/SQ"},"doc://UBPush/objc(cs)NSObject":{"type":"unresolvable","title":"ObjectiveC.NSObject","identifier":"doc:\/\/UBPush\/objc(cs)NSObject"},"doc://UBPush/documentation/UBPush/UBPushManager/requestPushPermissions(includingCritical:callback:)":{"role":"symbol","title":"requestPushPermissions(includingCritical:callback:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"requestPushPermissions"},{"kind":"text","text":"("},{"kind":"externalParam","text":"includingCritical"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":", "},{"kind":"externalParam","text":"callback"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"PermissionRequestCallback","preciseIdentifier":"s:6UBPush0A7ManagerC25PermissionRequestCallbacka"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Requests push permissions"}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/requestPushPermissions(includingCritical:callback:)","kind":"symbol","type":"topic","url":"\/documentation\/ubpush\/ubpushmanager\/requestpushpermissions(includingcritical:callback:)"},"doc://UBPush/documentation/UBPush/UBPushManager/didRegisterForRemoteNotificationsWithDeviceToken(_:)":{"role":"symbol","title":"didRegisterForRemoteNotificationsWithDeviceToken(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"didRegisterForRemoteNotificationsWithDeviceToken"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"Data","preciseIdentifier":"s:10Foundation4DataV"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Needs to be called inside "},{"type":"codeVoice","code":"application(_:didRegisterForRemoteNotificationsWithDeviceToken:)"}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/didRegisterForRemoteNotificationsWithDeviceToken(_:)","kind":"symbol","type":"topic","url":"\/documentation\/ubpush\/ubpushmanager\/didregisterforremotenotificationswithdevicetoken(_:)"},"doc://UBPush/documentation/UBPush/UBPushManager/invalidateAndResendPushRegistration(completion:)":{"role":"symbol","title":"invalidateAndResendPushRegistration(completion:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"invalidateAndResendPushRegistration"},{"kind":"text","text":"("},{"kind":"externalParam","text":"completion"},{"kind":"text","text":": (("},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":"?) -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")?)"}],"abstract":[{"type":"text","text":"Invalidates the current push registration, forcing a new registration request"}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/invalidateAndResendPushRegistration(completion:)","kind":"symbol","type":"topic","url":"\/documentation\/ubpush\/ubpushmanager\/invalidateandresendpushregistration(completion:)"},"doc://UBPush/documentation/UBPush/UBPushManager/invalidatePushRegistration()":{"role":"symbol","title":"invalidatePushRegistration()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"invalidatePushRegistration"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Invalidates the current push registration, forcing a new registration request"}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/invalidatePushRegistration()","kind":"symbol","type":"topic","deprecated":true,"url":"\/documentation\/ubpush\/ubpushmanager\/invalidatepushregistration()"},"doc://UBPush/documentation/UBPush/UBPushManager/didFailToRegisterForRemoteNotifications(with:)":{"role":"symbol","title":"didFailToRegisterForRemoteNotifications(with:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"didFailToRegisterForRemoteNotifications"},{"kind":"text","text":"("},{"kind":"externalParam","text":"with"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Error","preciseIdentifier":"s:s5ErrorP"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Needs to be called inside "},{"type":"codeVoice","code":"application(_:didFailToRegisterForRemoteNotificationsWithError:)"}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/didFailToRegisterForRemoteNotifications(with:)","kind":"symbol","type":"topic","url":"\/documentation\/ubpush\/ubpushmanager\/didfailtoregisterforremotenotifications(with:)"},"doc://UBPush/documentation/UBPush/UBPushManager/UNUserNotificationCenterDelegate-Implementations":{"role":"collectionGroup","title":"UNUserNotificationCenterDelegate Implementations","abstract":[],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/UNUserNotificationCenterDelegate-Implementations","kind":"article","type":"topic","url":"\/documentation\/ubpush\/ubpushmanager\/unusernotificationcenterdelegate-implementations"},"doc://UBPush/SH":{"type":"unresolvable","title":"Swift.Hashable","identifier":"doc:\/\/UBPush\/SH"},"doc://UBPush/documentation/UBPush":{"role":"collection","title":"UBPush","abstract":[],"identifier":"doc:\/\/UBPush\/documentation\/UBPush","kind":"symbol","type":"topic","url":"\/documentation\/ubpush"},"doc://UBPush/objc(pl)NSObject":{"type":"unresolvable","title":"ObjectiveC.NSObjectProtocol","identifier":"doc:\/\/UBPush\/objc(pl)NSObject"},"doc://UBPush/objc(pl)UNUserNotificationCenterDelegate":{"type":"unresolvable","title":"UserNotifications.UNUserNotificationCenterDelegate","identifier":"doc:\/\/UBPush\/objc(pl)UNUserNotificationCenterDelegate"},"doc://UBPush/documentation/UBPush/UBPushManager/pushToken":{"role":"symbol","title":"pushToken","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"pushToken"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"The push token for this device"}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/pushToken","kind":"symbol","type":"topic","url":"\/documentation\/ubpush\/ubpushmanager\/pushtoken"},"doc://UBPush/documentation/UBPush/UBPushManager/migratePushToken(currentToken:)":{"role":"symbol","title":"migratePushToken(currentToken:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"migratePushToken"},{"kind":"text","text":"("},{"kind":"externalParam","text":"currentToken"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Update push token from a previous version directly"}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/migratePushToken(currentToken:)","kind":"symbol","type":"topic","url":"\/documentation\/ubpush\/ubpushmanager\/migratepushtoken(currenttoken:)"},"doc://UBPush/documentation/UBPush/UBPushManager":{"role":"symbol","title":"UBPushManager","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"UBPushManager"}],"abstract":[{"type":"text","text":"Handles requesting push permissions. Clients should customize the following components specific to the client application:"}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"UBPushManager"}],"url":"\/documentation\/ubpush\/ubpushmanager"},"doc://UBPush/s23CustomStringConvertibleP":{"type":"unresolvable","title":"Swift.CustomStringConvertible","identifier":"doc:\/\/UBPush\/s23CustomStringConvertibleP"},"doc://UBPush/documentation/UBPush/UBPushManager/shared":{"role":"symbol","title":"shared","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"shared"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UBPushManager","preciseIdentifier":"c:@M@UBPush@objc(cs)UBPushManager"}],"abstract":[{"type":"text","text":"The shared push manager which should be configured upon launch."}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/shared","kind":"symbol","type":"topic","url":"\/documentation\/ubpush\/ubpushmanager\/shared"},"doc://UBPush/documentation/UBPush/UBPushManager/didFinishLaunchingWithOptions(_:pushHandler:pushRegistrationManager:additionalPushRegistrationManagers:)":{"role":"symbol","title":"didFinishLaunchingWithOptions(_:pushHandler:pushRegistrationManager:additionalPushRegistrationManagers:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"didFinishLaunchingWithOptions"},{"kind":"text","text":"(["},{"kind":"typeIdentifier","text":"UIApplication","preciseIdentifier":"c:objc(cs)UIApplication"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"LaunchOptionsKey","preciseIdentifier":"c:@T@UIApplicationLaunchOptionsKey"},{"kind":"text","text":" : "},{"kind":"keyword","text":"Any"},{"kind":"text","text":"]?, "},{"kind":"externalParam","text":"pushHandler"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UBPushHandler","preciseIdentifier":"s:6UBPush0A7HandlerC"},{"kind":"text","text":", "},{"kind":"externalParam","text":"pushRegistrationManager"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UBPushRegistrationManager","preciseIdentifier":"c:@M@UBPush@objc(cs)UBPushRegistrationManager"},{"kind":"text","text":", "},{"kind":"externalParam","text":"additionalPushRegistrationManagers"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"UBPushRegistrationManager","preciseIdentifier":"c:@M@UBPush@objc(cs)UBPushRegistrationManager"},{"kind":"text","text":"])"}],"abstract":[{"type":"text","text":"Needs to be called inside "},{"type":"codeVoice","code":"applicationDidFinishLaunchingWithOptions(_:launchOptions:)"}],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/didFinishLaunchingWithOptions(_:pushHandler:pushRegistrationManager:additionalPushRegistrationManagers:)","kind":"symbol","type":"topic","url":"\/documentation\/ubpush\/ubpushmanager\/didfinishlaunchingwithoptions(_:pushhandler:pushregistrationmanager:additionalpushregistrationmanagers:)"},"doc://UBPush/s28CustomDebugStringConvertibleP":{"type":"unresolvable","title":"Swift.CustomDebugStringConvertible","identifier":"doc:\/\/UBPush\/s28CustomDebugStringConvertibleP"},"doc://UBPush/documentation/UBPush/UBPushManager/additionalPushRegistrationManagers":{"role":"symbol","title":"additionalPushRegistrationManagers","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"additionalPushRegistrationManagers"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"UBPushRegistrationManager","preciseIdentifier":"c:@M@UBPush@objc(cs)UBPushRegistrationManager"},{"kind":"text","text":"]"}],"abstract":[],"identifier":"doc:\/\/UBPush\/documentation\/UBPush\/UBPushManager\/additionalPushRegistrationManagers","kind":"symbol","type":"topic","url":"\/documentation\/ubpush\/ubpushmanager\/additionalpushregistrationmanagers"}}}